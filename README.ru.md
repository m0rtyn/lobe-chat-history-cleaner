# Обработчик истории LobeChat

Этот проект представляет собой инструмент на Node.js для обработки и преобразования истории чатов, экспортированной из LobeChat, в очищенный JSON-файл и отформатированный Markdown-документ.

---

## Документация (Русский)

### Назначение

Этот скрипт предназначен для обработки исходного JSON-файла, экспортированного из LobeChat, и его преобразования в два удобных формата:
1.  **Облегченный, очищенный JSON-файл**, содержащий только ключевые данные сообщений.
2.  **Структурированный Markdown-файл**, который идеально подходит для чтения, архивирования или дальнейшей обработки.

### Структура проекта

Инструмент состоит из трех взаимосвязанных файлов:

-   `process-chat-history.js`: Это **главный скрипт**, который вы будете запускать. Он управляет всем процессом, вызывая два других модуля по очереди.
-   `clean-history.js`: Модуль, отвечающий за чтение исходного файла, извлечение и очистку данных, а также за сортировку сообщений по дате создания.
-   `to-markdown.js`: Модуль, который принимает очищенные данные и преобразует их в читаемый Markdown-формат.

### Использование

1.  **Требования**: Убедитесь, что на вашем компьютере установлен Node.js.
2.  **Подготовка**: Поместите все три скрипта (`process-chat-history.js`, `clean-history.js`, `to-markdown.js`) и ваш файл экспорта из LobeChat (например, `lobe-export.json`) в одну директорию.
3.  **Запуск**: Откройте терминал в этой директории и выполните главный скрипт, передав ему имя вашего файла в качестве аргумента:

    ```bash
    node process-chat-history.js lobe-export.json
    ```

### Выходные файлы

После выполнения скрипта будут созданы два новых файла:

1.  **Очищенный JSON**: `lobe-export-cleaned.json`
    -   Содержит структурированный список сообщений только с полями `content`, `role`, `createdAt` и `updatedAt`.
    -   Сообщения отсортированы в хронологическом порядке.

2.  **Markdown-документ**: `memory_lobe-export-cleaned.md`
    -   Представляет диалог в чистом и удобном для чтения виде.
    -   Каждое сообщение отформатировано следующим образом:
        ```md
        **{Имя}:**
        {Содержимое сообщения}

        ```
        Где `{Имя}` — это `User` для роли `user` и `Assistant` для роли `assistant`.
